You have the janky version of a reconciler. It's not very good. It's not very fast. But it's a start.
